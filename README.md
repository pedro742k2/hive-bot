<img src="https://user-images.githubusercontent.com/54741310/185154743-9b2b4aed-b0be-49b8-93d8-adc4345e38d8.png" alt="bee-robot" width="100px" />

# 🤖(🍯) - The Great Hive Simulator

## 🍯 What is it?

The Hive Simulator is a console program that's intended to simulate a hive readings for the Bee Guardian Project ([Front-end repository](https://github.com/pedro742k2/bee-guardian-webapp) | [Back-end repository](https://github.com/pedro742k2/bee-guardian-server)).

## 👨‍🏫 How does it work?

The program will write every **X** *(**X**: User defined interval)* minutes a ready-to-execute SQL query with mock data generated by the algorithm. Every time it writes a new ready-to-execute SQL query, the program will try to upload all the data to the server (which URL is located at `src/services/api.ts`).

## 💻 How to use?

### *(Optional)* Run the back-end service:
- First, a local instance of the back-end should be running (if you want to upload the data for the database, otherwise it will only write it locally). For that, you should have the **back-end code** located at its [repository](https://github.com/pedro742k2/bee-guardian-server) and follow the instructions on the README.md file to execute it (*Preferably use Docker*).

### Create the environment variables file:
- On the root directory of the Hive Simulator project, create a `.env` file with the following variables:
  - `API_KEY`: Your own "Open Weather" API Key (You can get one for free at: https://openweathermap.org/price - *60 calls/minute, 1,000,000 calls/month*);
  - `LAT`: Latitude to anywhere you want (Example: 34.2812);
  - `LON`: Longitude to anywhere you want (Example: -3.1550);
  - `WRITE_DELAY_MINUTES`: Minutes delay before every write.
- At the end, it should look like this:
-   ```
    API_KEY = "a9de4be014c634450138927f62ce7310"
    LAT = "34.2812"
    LON = "-3.1550"
    WRITE_DELAY_MINUTES = 30
    ```
### ⚙️ Run the program:
- Run the program in first plan: `npm start` (If an error ocurs, run `npm run tsc && npm start`);
- Run the program in background as a service: `npm run background`.

## 🦾 Technologies used
  - Node.js (JS Runtime Environment);
  - Typescript (Superset of JS);
  - Forever (Library to run node programs on the background);
  - Axios (HTTP library).
  
# 📝 Title Image Credit
[license-20510438-782372.pdf](https://github.com/pedro742k2/hive-bot/files/9364558/license-20510438-782372.pdf)

  
